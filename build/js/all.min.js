"use strict";angular.module("fbaApp",["ui.router","lumx","ngTable"]).config(function(e,t){t.otherwise("/"),e.state("main",{templateUrl:"app/templates/main.html"}).state("main.home",{url:"/",templateUrl:"app/pages/home/home.html",controller:"HomeCtrl"}).state("main.species",{url:"/species",templateUrl:"app/pages/species/species.html",controller:"SpeciesCtrl"})}).controller("BodyCtrl",["$scope",function(e){e.title="iGEM UofT Computational Biology"}]);
"use strict";angular.module("fbaApp").controller("HeaderCtrl",["$rootScope","$scope","$timeout","$state","$urlRouter",function(t,e,o,r,l){e.title="sdssd",e.rippleColour="teal-500"}]);
"use strict";angular.module("fbaApp").controller("NetworkCtrl",["$scope","$http","$filter","UrlProvider","ngTableParams",function(e,t,r,o,a){var n="#network",i=new Network(n,{height:$(n).width(),width:$(n).height()}),c="#sidebar",d=$(c).width(),l=100;e.rippleColour="deep-purple-500",e.locked=!0,e.deflated=!0,e.species={},e.getLockedClass=function(){return e.locked?"locked":"unlocked"},e.expandSidebar=function(){$(c).width($("body").width()-l),e.deflated=!1},e.deflateSidebar=function(){$(c).width(d),e.deflated=!0},e.tableParams=new a({page:1,count:10,sorting:{DOMAIN:"asc"}},{total:e.species.length,getData:function(a,n){t.get(o.baseUrl+"/species/retrieve/all").success(function(t){e.species=t;var o=n.sorting()?r("orderBy")(t,n.orderBy()):t;n.total(t.length),a.resolve(o.slice((n.page()-1)*n.count(),n.page()*n.count()))}).error(function(e){a.reject(e)})}});var s=t.get("http://45.55.193.224/toydata.json");s.success(function(e){i.addSpecie(e.data[0])}).error(function(e){alert(e)})}]);
"use strict";angular.module("fbaApp").service("UrlProvider",function(){this.baseUrl="http://localhost:9001"});
"use strict";angular.module("fbaApp").controller("HomeCtrl",["$scope",function(o){o.title="iGEM UofT Computation Biology!"}]);
"use strict";angular.module("fbaApp").controller("SpeciesCtrl",["$scope",function(e){e.title="species page"}]);
var Network=function(t,e){function n(t,e){r.svg=d3.select(t).append("svg"),r.svg.attr("class","body"),r.attributes=e;for(var n=Object.keys(e),s=0;s<n.length;s++)r.svg.attr(n[s],e[n[s]]);r.network=r.svg.append("g").attr("class","network")}function s(t){return r.species=t,r.pathways=[],r.pathways.push(new Pathway(r.network,t)),r}function a(t,e){r.attributes.width=t,r.attributes.height=e}var r=this;return n(t,e),{addSpecie:function(t){s(t)},changeDimensions:function(t,e){a(t,e)}}};
var Metabolite=function(n,e,t){var i={network:n,id:t,name:e,type:"m"};return{toString:function(){console.log("Metabolite: "+i.name+" id: "+i.id+"\n")},getID:function(){return i.id},getJSON:function(){return{name:i.name,id:i.id,type:i.type,selflink:!1}}}};
var Pathway=function(e,t){function n(e){c.links=c.network.append("g").attr("class","links").selectAll("link"),c.nodes=c.network.append("g").attr("class","nodes").selectAll("node"),s(e),i(e),a()}function o(){}function s(e){for(var t=0;t<e.metabolites.length;t++)c.metabolites.push(new Metabolite(c.network,e.metabolites[t].name,e.metabolites[t].id)),c.nodesJSON.push(c.metabolites[t].getJSON())}function i(e){for(var t=[],n=0;n<e.reactions.length;n++){c.reactions.push(new Reaction(c.network,e.reactions[n].name,e.reactions[n].id)),c.nodesJSON.push(c.reactions[n].getJSON());for(var o=Object.keys(e.reactions[n].metabolites),s=0;s<o.length;s++){if(e.reactions[n].metabolites[o[s]]>0)var i=e.reactions[n].id,a=o[s];else var i=o[s],a=e.reactions[n].id;t.push({id:i+"-"+a,source:i,target:a})}}for(var l=r(c.metabolites,c.reactions),u=0;u<t.length;u++){var i=c.metabolites[l[t[u].source]]||c.reactions[l[t[u].source]],a=c.metabolites[l[t[u].target]]||c.reactions[l[t[u].target]];c.connections.push({id:i.getID()+"-"+a.getID(),source:i.getJSON(),target:a.getJSON()})}}function r(e,t){for(var n={},o=0;o<e.length;o++)n[e[o].getID()]=o;for(var o=0;o<t.length;o++)n[t[o].getID()]=o;return n}function a(){c.force=d3.layout.force().nodes(c.nodesJSON).links(c.connections).charge(function(e){return"m"==e.type?-1e3:-500}).linkStrength(2).linkDistance(50).size([c.network.width,c.network.height]).on("tick",o)}var c={network:e,reactions:[],metabolites:[],connections:[],nodesJSON:[],links:null,nodes:null,force:null};return n(t),{init:function(e){n(e)},test:function(){alert("test")}}};
var Reaction=function(n,e,t){var i={network:n,id:t,name:e,type:"r"};return{toString:function(){console.log("Reaction: "+i.name+" id: "+i.id+"\n")},getID:function(){return i.id},getJSON:function(){return{name:i.name,id:i.id,type:i.type,selflink:!1}}}};
//# sourceMappingURL=../all.min.js.map